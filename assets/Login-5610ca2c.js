import{w as g,v as u}from"./runtime-dom.esm-bundler-171ea4b6.js";import{u as v,d as w}from"./router-845927d8.js";import{e as b,I as p,P as x,c as i,a as e,b as y,w as k,F as S,g as V,a5 as m,r as L,o as l,d as N,t as _,k as U,W as q}from"./vue-router-3ca4787c.js";const B={class:"auth-page"},C={class:"container page"},E={class:"row"},F={class:"col-md-6 offset-md-3 col-xs-12"},P=e("h1",{class:"text-xs-center"}," Sign in ",-1),A={class:"text-xs-center"},D={class:"error-messages"},M=["onSubmit"],R={class:"form-group","aria-required":"true"},T={class:"form-group"},I=["disabled"],H=b({__name:"Login",setup(W){const c=p(null),s=x({email:"",password:""}),{updateUser:f}=v(),a=p(),h=async()=>{var n,t;if(a.value={},!!((n=c.value)!=null&&n.checkValidity()))try{const o=await U.users.login({user:s});f(o.data.user),await w("global-feed")}catch(o){if(q(o)){a.value=(t=o.error)==null?void 0:t.errors;return}console.error(o)}};return(n,t)=>{const o=L("AppLink");return l(),i("div",B,[e("div",C,[e("div",E,[e("div",F,[P,e("p",A,[y(o,{name:"register"},{default:k(()=>[N(" Need an account? ")]),_:1})]),e("ul",D,[(l(!0),i(S,null,V(a.value,(r,d)=>(l(),i("li",{key:d},_(d)+" "+_(r?r[0]:""),1))),128))]),e("form",{ref_key:"formRef",ref:c,onSubmit:g(h,["prevent"])},[e("fieldset",R,[m(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>s.email=r),class:"form-control form-control-lg",type:"email",required:"",placeholder:"Email"},null,512),[[u,s.email]])]),e("fieldset",T,[m(e("input",{"onUpdate:modelValue":t[1]||(t[1]=r=>s.password=r),class:"form-control form-control-lg",type:"password",required:"",placeholder:"Password"},null,512),[[u,s.password]])]),e("button",{class:"btn btn-lg btn-primary pull-xs-right",disabled:!s.email||!s.password,type:"submit"}," Sign in ",8,I)],40,M)])])])])}}});export{H as default};
