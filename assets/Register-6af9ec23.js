import{w as h,v as l}from"./runtime-dom.esm-bundler-171ea4b6.js";import{u as v,d as w}from"./router-845927d8.js";import{e as x,I as p,P as b,c as i,a as e,b as y,w as k,F as V,g as S,a5 as c,r as U,o as d,d as L,t as f,k as N,W as q}from"./vue-router-3ca4787c.js";const B={class:"auth-page"},C={class:"container page"},E={class:"row"},F={class:"col-md-6 offset-md-3 col-xs-12"},P=e("h1",{class:"text-xs-center"}," Sign up ",-1),R={class:"text-xs-center"},A={class:"error-messages"},D=["onSubmit"],M={class:"form-group"},T={class:"form-group"},H={class:"form-group"},I=["disabled"],G=x({__name:"Register",setup(W){const u=p(null),s=b({username:"",email:"",password:""}),{updateUser:_}=v(),a=p(),g=async()=>{var n,t;if(a.value={},!!((n=u.value)!=null&&n.checkValidity()))try{const r=await N.users.createUser({user:s});_(r.data.user),await w("global-feed")}catch(r){q(r)&&(a.value=(t=r.error)==null?void 0:t.errors)}};return(n,t)=>{const r=U("AppLink");return d(),i("div",B,[e("div",C,[e("div",E,[e("div",F,[P,e("p",R,[y(r,{name:"login"},{default:k(()=>[L(" Have an account? ")]),_:1})]),e("ul",A,[(d(!0),i(V,null,S(a.value,(o,m)=>(d(),i("li",{key:m},f(m)+" "+f(o?o[0]:""),1))),128))]),e("form",{ref_key:"formRef",ref:u,onSubmit:h(g,["prevent"])},[e("fieldset",M,[c(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>s.username=o),class:"form-control form-control-lg",type:"text",required:"",placeholder:"Your Name"},null,512),[[l,s.username]])]),e("fieldset",T,[c(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>s.email=o),class:"form-control form-control-lg",type:"email",required:"",placeholder:"Email"},null,512),[[l,s.email]])]),e("fieldset",H,[c(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>s.password=o),class:"form-control form-control-lg",type:"password",minLength:8,required:"",placeholder:"Password"},null,512),[[l,s.password]])]),e("button",{type:"submit",class:"btn btn-lg btn-primary pull-xs-right",disabled:!(s.email&&s.username&&s.password)}," Sign up ",8,I)],40,D)])])])])}}});export{G as default};
